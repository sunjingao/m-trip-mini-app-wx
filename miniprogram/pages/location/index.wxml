<view class="page">

  <view class="search-part">
    <van-search value="{{ fuzzySearch }}" label="{{ selectedPointInfo.cityInfo.cityName }}" placeholder="请输入搜索关键词" use-action-slot custom-class="custom-search" bind:change="handleSearchChange">
      <view slot="action" bind:tap="handleSearch">搜索</view>
    </van-search>
  </view>

  <view class="cur-locate-part">
    <van-cell custom-class="location-des">
      <view slot="title" class="title">
        当前位置
      </view>
      <view class="cur-locate-re-locate" bind:tap="handleLocate">重新定位</view>
    </van-cell>
  </view>

  <view wx:if="{{ currentLocationInfo.isGpsOpen }}" class="gps-open-part">
    <van-cell icon="location-o" label="{{ currentLocationInfo.locationName }}">
    </van-cell>
  </view>

  <view class="point-part">
    <van-cell custom-class="location-des">
      <view slot="title" class="title">
        网点
      </view>
    </van-cell>
  </view>

  <view class="content-part">
    <scroll-view scroll-y refresher-enabled lower-threshold="100" refresher-triggered="{{isRefreshing}}" bindrefresherrefresh="handleRefresh" bindscrolltolower="onScrollToLower" class="scroll-view">
      <van-cell icon="wap-home-o" wx:for="{{ list }}" wx:key="index" data-index="{{ index }}" bind:tap="handleChooseItem" use-label-slot>
        <view slot="title" class="title">
          <view class="name">{{ item.name }}</view>
          <view class="distance">{{ item.showDistance }}</view>
        </view>
        <view slot="label"> {{ item.address }} </view>
      </van-cell>

      <view wx:if="{{hasMore}}" class="has-more">
        <van-loading />
      </view>
      <view wx:else class="no-more">没有更多数据了</view>
    </scroll-view>
  </view>
</view>